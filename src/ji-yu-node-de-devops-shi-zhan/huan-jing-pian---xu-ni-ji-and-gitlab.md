
# ç¯å¢ƒç¯‡ - è™šæ‹Ÿæœº & GitLab
---

## å‰è¨€

åœ¨æ­£å¼å¼€å‘é¡¹ç›®ä¹‹å‰ï¼Œéœ€è¦å®‰è£…é…ç½®å„ç§ç¯å¢ƒä¸å·¥å…·ï¼Œå…ˆç®€å•æ•´ç†ä¸‹åæœŸéœ€è¦ä½¿ç”¨åˆ°çš„å„ç§å·¥å…·ä»¥åŠå®ƒä»¬çš„ä½œç”¨æ˜¯ä»€ä¹ˆã€‚å¦‚æœæœ‰åŒå­¦å·²ç»å¯¹ä¸‹è¿°å¼€å‘å·¥å…·ã€ç¯å¢ƒéå¸¸äº†è§£æˆ–è€…å·²ç»æœ‰é…ç½®å®Œæˆçš„å¼€å‘ç¯å¢ƒï¼Œå¯ä»¥ç›´æ¥ç•¥è¿‡ç¯å¢ƒç¯‡ã€‚

| å·¥å…· or æ¡†æ¶ | ä½œç”¨ |
| --- | --- |
| CentOS | æ„å»ºæœåŠ¡å™¨ç³»ç»Ÿ |
| Egg | åå°å¼€å‘æ¡†æ¶ |
| React + Ant Design + UmiJS | å‰ç«¯ç®¡ç†ç•Œé¢å¼€å‘ |
| Mysql | æ•°æ®åº“ |
| Jenkins \&\& GitLab CI | æ„å»ºå·¥å…· |
| GitLab | é¡¹ç›®ç®¡ç†ä»“åº“ |
| Docker | åº”ç”¨å®¹å™¨ |
| Postman | æ¥å£æµ‹è¯•å·¥å…· |
| Sonar | ä»£ç æ£€æµ‹å·¥å…· |
| Sentry | å‰ç«¯çº¿ä¸Šé¢„è­¦å·¥å…· |

ç”±äºæ•´ä¸ªé¡¹ç›®æ¶‰åŠçš„å·¥å…·ã€ç¯å¢ƒéå¸¸å¤šï¼Œéœ€è¦å‡†å¤‡å¤šä¸ª Linux çš„ç³»ç»Ÿæ¥å®‰è£…ä¸€äº›å¿…å¤‡çš„å·¥å…·ã€‚

ä¸ªäººç¬¬ä¸€å»ºè®®æ˜¯ç›´æ¥ä¸Šäº‘æœåŠ¡å™¨ï¼Œé¦–å…ˆæ˜¯ä½¿ç”¨ç®€å•ï¼Œå¯ä»¥çœå»å¾ˆå¤šé…ç½®æˆæœ¬è·Ÿæ—¶é—´ï¼Œå…¶æ¬¡æ˜¯æ–¹ä¾¿éšæ—¶ã€éšåœ°è°ƒè¯•ï¼Œæ€§èƒ½æ›´å¥½ã€‚å¦‚æœä½ å·²ç»æœ‰å¯ä½¿ç”¨çš„äº‘æœåŠ¡å™¨çš„è¯ï¼Œå¯ä»¥è·³è¿‡è™šæ‹Ÿæœºå®‰è£…ç¯èŠ‚ã€‚

ä½†æ˜¯å®‰è£… GitLab çš„æœåŠ¡å™¨é…ç½®ï¼Œ1 æ ¸ 2 g çš„äº‘æœåŠ¡å™¨åŸºæœ¬æ˜¯å¸¦ä¸åŠ¨çš„ï¼Œå¦‚æœä½¿ç”¨ä¸­é…çš„æœåŠ¡å™¨ä½œä¸ºå­¦ä¹ æ¥è¯´æ— ç–‘æˆæœ¬è¿‡é«˜ã€‚

> å¯¹äº GitLab æ¥è¯´ï¼Œå¦‚æœå›¢é˜Ÿä¸­æœ‰ä½¿ç”¨åˆ°çš„è¯ï¼ˆåº”è¯¥æ˜¯å¤§éƒ¨é—¨å›¢é˜Ÿéƒ½å·²ç»åœ¨ä½¿ç”¨ GitLabï¼‰ï¼Œå¯ä»¥è·³è¿‡æœ¬ç« èŠ‚ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¿…å¤‡çš„ç¯èŠ‚ã€‚ä¸è¿‡å¦‚æœä½ å¸Œæœ›å¯¹ Linux ä»¥åŠä» 0 å¼€å§‹æ­å»ºæ•´ä¸ªå·¥ç¨‹æœ‰æ›´æ·±å…¥çš„äº†è§£çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸€ç« ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„å­¦ä¹ æœºä¼šã€‚

æ‰€ä»¥æœ¬ç« å°†ä»‹ç»å¦‚ä½•å®‰è£…è™šæ‹Ÿæœºä»¥åŠæ­å»ºä¸€ä¸ª GitLab ç¯å¢ƒã€‚åŒæ—¶ç»¼åˆæˆæœ¬é—®é¢˜è€ƒè™‘ï¼Œä¸Šè¿°ç¯å¢ƒç”¨åˆ°çš„è½¯ä»¶éƒ½å°†é‡‡ç”¨å¸‚é¢å¸¸è§ã€æ˜“äºå¾—åˆ°æˆ–è€…æœ‰ä¸ªäººå…è´¹ç‰ˆçš„ã€‚å¦å¤–ç”±äº Mac ç¯å¢ƒæ­å»ºæ¯”è¾ƒç®€å•ï¼Œå°å†Œçš„è½¯ä»¶é…ç½®å¤šæ•°éƒ½ä»¥ Windows æ¥ä½œä¸º demo æ¼”ç¤ºã€‚

> æ•´ä¸ªç³»åˆ—æ•™ç¨‹ä¸­ä¸æ”¯æŒã€ä¸é¼“åŠ±ä½¿ç”¨â€œ**ç§‘å­¦ç‰ˆè½¯ä»¶**â€ã€‚å¤§å¤šè½¯ä»¶å¯¹ä¸ªäººéƒ½æ˜¯æä¾›å…è´¹è¯•ç”¨ï¼Œè™½ç„¶åŠŸèƒ½ä¸è¶³ä½†ä½œä¸ºå­¦ä¹ æ¥è¯´è¿˜æ˜¯è¶³å¤Ÿç”¨çš„ã€‚

## å¼€å‘ç¯å¢ƒå‡†å¤‡

### VMware Workstation\(è™šæ‹Ÿæœº\)

> VMware Workstation å…è®¸æ“ä½œç³»ç»Ÿ\(OS\)å’Œåº”ç”¨ç¨‹åº\(Application\)åœ¨ä¸€å°è™šæ‹Ÿæœºå†…éƒ¨è¿è¡Œã€‚è™šæ‹Ÿæœºæ˜¯ç‹¬ç«‹è¿è¡Œä¸»æœºæ“ä½œç³»ç»Ÿçš„ç¦»æ•£ç¯å¢ƒã€‚åœ¨ VMware Workstation ä¸­ï¼Œä½ å¯ä»¥åœ¨ä¸€ä¸ªçª—å£ä¸­åŠ è½½ä¸€å°è™šæ‹Ÿæœºï¼Œå®ƒå¯ä»¥è¿è¡Œè‡ªå·±çš„æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºã€‚ä½ å¯ä»¥åœ¨è¿è¡Œäºæ¡Œé¢ä¸Šçš„å¤šå°è™šæ‹Ÿæœºä¹‹é—´åˆ‡æ¢ï¼Œé€šè¿‡ä¸€ä¸ªç½‘ç»œå…±äº«è™šæ‹Ÿæœº\(ä¾‹å¦‚ä¸€ä¸ªå…¬å¸å±€åŸŸç½‘\)ï¼ŒæŒ‚èµ·å’Œæ¢å¤è™šæ‹Ÿæœºä»¥åŠé€€å‡ºè™šæ‹Ÿæœºï¼Œè¿™ä¸€åˆ‡ä¸ä¼šå½±å“ä½ çš„ä¸»æœºæ“ä½œå’Œä»»ä½•æ“ä½œç³»ç»Ÿæˆ–è€…å…¶å®ƒæ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºã€‚

å¯ä»¥åœ¨ [VM ä¸‹è½½åœ°å€](https://www.vmware.com/products/workstation-player.html) å»ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬ï¼Œç›´æ¥ä¸‹è½½ workstation-player å³å¯ï¼Œä»…å­¦ä¹ è€Œè¨€æ˜¯ä¸éœ€è¦ä½¿ç”¨åˆ° proã€‚

![b645b13d82a649bfc73e707324db087.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/95637c40be27489f81f7fc78d2ebefdd~tplv-k3u1fbpfcp-watermark.image)

ç›´æ¥å®‰è£…å®Œï¼Œå‡ºç°å¦‚ä¸Šç•Œé¢ä¹‹åï¼Œç»§ç»­ä¸‹ä¸€ä¸ªæ­¥éª¤ã€‚

> VMware Workstation ä½œä¸ºå•†ä¸šç‰ˆæœ¬è™šæ‹Ÿæœºï¼Œæ€§èƒ½ä¸ç¨³å®šæ€§éƒ½æœ‰ä¸€å®šçš„ä¿éšœï¼Œä½†æ˜¯å¦‚åé¢ä»‹ç»æ¥çœ‹ï¼Œé…ç½®ä¼šè¿‡äºç¹çï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥ä½¿ç”¨ VirtualBox æ¥æ›¿ä»£ã€‚å½“ç„¶ Mac ä¹Ÿæœ‰æ›´å¥½çš„ Parallels è™šæ‹Ÿæœºæ¥ä½¿ç”¨ï¼Œè¿™é‡Œåªæ˜¯ä»¥ VMware ä½œä¸ºåˆ—å­æ¥ä»‹ç»ã€‚

### CentOS

å¯ä»¥ç”¨ä»[ä¸‹è½½åœ°å€](https://www.CentOS.org/download/)è·å–æ‰€éœ€è¦çš„ CentOS ç‰ˆæœ¬ï¼Œdemo ä½¿ç”¨çš„æ˜¯ 8.0 ç‰ˆæœ¬ã€‚ä¸‹è½½çš„ç‰ˆæœ¬å»ºè®®é€‰æ‹© **dvd1.iso**ï¼Œä¼šå†…ç½®å¾ˆå¤šè½¯ä»¶è·Ÿé…ç½®ï¼Œæ¯”è¾ƒå…¨é¢ï¼Œå¦‚æœæƒ³è‡ªå·±æ­å»ºå…¨å¥—ç¯å¢ƒçš„ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–ç‰ˆæœ¬ã€‚

ä¸‹è½½å®Œæˆåä¹‹åç›´æ¥æ‰“å¼€è™šæ‹Ÿæœºé€‰æ‹©é•œåƒå®‰è£…å³å¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![9880ab8a46a200ab46db6afa7bdfcd6.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/93df2e328aa54002853fec32b629eb14~tplv-k3u1fbpfcp-watermark.image)

![cab57ab425c495089125a4c4b735721.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d19373c2cc614f6f834f619218eb43f7~tplv-k3u1fbpfcp-watermark.image)

ä¸Šé¢ä¹Ÿæé«˜åˆ°ï¼Œ1æ ¸ 2g çš„æœåŠ¡å™¨åŸºæœ¬å¾ˆéš¾å¸¦åŠ¨ GitLabï¼Œå¾ˆå®¹æ˜“å´©æºƒæˆ–è€…å“åº”éå¸¸æ…¢ï¼Œéœ€è¦å°†å†…å­˜è·Ÿå¤„ç†å™¨æé«˜ä¸€ç‚¹ï¼Œä¸€èˆ¬ 4G ä»¥ä¸Šçš„å†…å­˜å¯ä»¥æ­£å¸¸å¸¦åŠ¨ï¼Œç°åœ¨å¼€å‘ä¸€èˆ¬ windows 16g çš„å†…å­˜è¿˜ç®—æ˜¯æ ‡é…ï¼Œåº”è¯¥èƒ½å¸¦åŠ¨ã€‚

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ab3ca34291264087b970327e9fec360c~tplv-k3u1fbpfcp-watermark.image)

é…ç½®å®Œæˆä¹‹åï¼Œå¯åŠ¨å‡ºç°å¦‚ä¸‹ç•Œé¢å¯ä»¥è¿›å…¥ä¸‹ä¸€æ­¥ï¼š

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5666cfce083240e7aaf9741a82534648~tplv-k3u1fbpfcp-watermark.image)

### Xshell

XShell æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å®‰å…¨ç»ˆç«¯æ¨¡æ‹Ÿè½¯ä»¶ï¼Œå®ƒæ”¯æŒ SSH1ï¼ŒSSH2ï¼Œä»¥åŠ Microsoft Windows å¹³å°çš„ TELNET åè®®ã€‚

è™šæ‹Ÿæœºåªæ˜¯ç”¨æ¥æ›¿ä»£äº‘æœåŠ¡å™¨çš„ä¸€ç§ç®€ä¾¿æ‰‹æ®µï¼Œæ­£å¸¸åœ¨æ“ä½œäº‘æœåŠ¡å™¨çš„æ—¶å€™ï¼Œç”¨ç»ˆç«¯æ¨¡æ‹Ÿè½¯ä»¶æ¯”è¾ƒå¤šã€‚è¿™é‡Œæ¨èä½¿ç”¨ [Xshell](https://xshell.en.softonic.com/download)ï¼Œå¯ä»¥é€‰æ‹©ä¸ªäººç‰ˆæœ¬ï¼Œä¹Ÿæ¯”è¾ƒå®¹æ˜“ä¸Šæ‰‹ã€‚

ä¸€è·¯å®‰è£…å®Œæ¯•ä¹‹åå‡ºç°ä¸‹è¿°ç•Œé¢å³å¯ï¼š

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/19b3b21582a74e8193eb84e18618b6e7~tplv-k3u1fbpfcp-watermark.image)

### SSH è¿æ¥

Secure Shell\(SSH\) æ˜¯ç”± IETF\(The Internet Engineering Task Force\) åˆ¶å®šçš„å»ºç«‹åœ¨åº”ç”¨å±‚åŸºç¡€ä¸Šçš„å®‰å…¨ç½‘ç»œåè®®ã€‚å®ƒæ˜¯ä¸“ä¸ºè¿œç¨‹ç™»å½•ä¼šè¯\(ç”šè‡³å¯ä»¥ç”¨ Windows è¿œç¨‹ç™»å½• Linux æœåŠ¡å™¨è¿›è¡Œæ–‡ä»¶äº’ä¼ \)å’Œå…¶ä»–ç½‘ç»œæœåŠ¡æä¾›å®‰å…¨æ€§çš„åè®®ï¼Œå¯æœ‰æ•ˆå¼¥è¡¥ç½‘ç»œä¸­çš„æ¼æ´ã€‚é€šè¿‡ SSHï¼Œå¯ä»¥æŠŠæ‰€æœ‰ä¼ è¾“çš„æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œä¹Ÿèƒ½å¤Ÿé˜²æ­¢ DNS æ¬ºéª—å’Œ IP æ¬ºéª—ã€‚è¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„å¥½å¤„å°±æ˜¯ä¼ è¾“çš„æ•°æ®æ˜¯ç»è¿‡å‹ç¼©çš„ï¼Œæ‰€ä»¥å¯ä»¥åŠ å¿«ä¼ è¾“çš„é€Ÿåº¦ã€‚ç›®å‰å·²ç»æˆä¸º Linux ç³»ç»Ÿçš„æ ‡å‡†é…ç½®ã€‚

ç°åœ¨å¼€å§‹è¿›è¡Œé…ç½®ï¼Œä½¿ Xshll å¯ä»¥ä½¿ç”¨ SSH è¿æ¥ VM é‡Œé¢çš„ CentOS ç³»ç»Ÿã€‚

#### é…ç½®å›ºå®š Ip

é¦–å…ˆä¸ºäº†é¿å… IP æœ‰å†²çªæˆ–å˜åŠ¨ï¼Œç›´æ¥é…ç½®å›ºå®š Ipã€‚å³å‡»è™šæ‹Ÿæœºé€‰æ‹©è®¾ç½®é€‰é¡¹ï¼Œæ‰“å¼€è®¾ç½®é¢æ¿ä¿®æ”¹ç½‘ç»œé€‚é…å™¨å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b58fcda2bb9e4ecebfdf41f78257694e~tplv-k3u1fbpfcp-watermark.image)

#### å…¨å±€é…ç½®

é€‰æ‹©ç¼–è¾‘ä¸­çš„è™šæ‹Ÿç½‘ç»œæ§åˆ¶å™¨é€‰é¡¹ï¼Œæˆæƒç®¡ç†å‘˜æƒé™æ›´æ”¹è®¾ç½®

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6ccae174c6944b43ab3684868e569191~tplv-k3u1fbpfcp-watermark.image)

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/615e2f180c394eb7a2a0ee15f8b7a300~tplv-k3u1fbpfcp-watermark.image)

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/561cb868b8054ba4ae58f357cfca242e~tplv-k3u1fbpfcp-watermark.image)

ä¸Šå›¾çš„å¯¹åº”ç½‘å…³è¦ä¸å»è™šæ‹Ÿæœºè®¾ç½®çš„ IP é…ç½®ç›¸åŒï¼Œæ‰€ä»¥è¦è®°ä½ï¼Œ**192.168.160.2**ã€‚

#### ä¿®æ”¹è™šæ‹Ÿæœºç½‘å…³

ç¬¬ä¸‰æ­¥ï¼Œè¿›å…¥è™šæ‹Ÿæœºï¼Œè¾“å…¥ `TRL+ALT+T` æ‰“å¼€ Terminal ç»ˆç«¯ï¼Œåç»­çš„å‘½ä»¤ä¸€èˆ¬éƒ½æ˜¯éœ€è¦ç®¡ç†å‘˜æƒé™ï¼Œæ‰€ä»¥ç›´æ¥ `su` è¿›å…¥ç®¡ç†å‘˜æ¨¡å¼ï¼Œå¯†ç ä¸ä½ è£…ç³»ç»Ÿè®¾ç½®çš„å¯†ç ç›¸åŒã€‚å¯èƒ½ä½ çš„ CentOS ç‰ˆæœ¬ä¸æ”¯æŒè¿™ä¸ªå¿«æ·é”®å‘½ä»¤ï¼Œé‚£ä¹ˆå¯ä»¥ä»ä¸‹å›¾æ‰¾åˆ°æ‰“å¼€ç»ˆç«¯çš„æ–¹æ³•ï¼Œç†Ÿç»ƒçš„åŒå­¦ä¹Ÿå¯ä»¥è‡ªå·±é‡ç½®å¿«æ·é”®ã€‚

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d871a9982e2b45c58234443beac3014a~tplv-k3u1fbpfcp-watermark.image)

è¾“å…¥ `vi /etc/sysconfig/network-scripts/ifcfg-ens33` æ‰“å¼€ï¼Œå¦‚æœä¸æ‡‚ vim ç¼–è¾‘çš„åŒå­¦å¯ä»¥ç‚¹å¼€[è¿™ä¸ªé“¾æ¥](https://blog.csdn.net/jisuanji198509/article/details/86690617/)ï¼Œå­¦ä¸€ä¸‹ vim åŸºæœ¬æ“ä½œã€‚è¿™é‡Œç›´æ¥è´´å‡ºé…ç½®ï¼ŒæŒ‰ç…§é…ç½®ç›´æ¥ä¿®æ”¹æˆ–è€…å…¨éƒ¨æ›¿æ¢å³å¯ï¼ˆ**å¦‚æœå‰é¢è®¾ç½®çš„å‚æ•°ä¸ä¸€æ ·è¦ä¿®æ”¹æˆå¯¹åº”çš„å‚æ•°**ï¼‰ï¼Œå…·ä½“çš„å‚æ•°æ„ä¹‰å¯ä»¥æœ‰å…´è¶£çš„è¯å¯ä»¥è‡ªè¡ŒæŸ¥æ‰¾ã€‚

```
BROWSER_ONLY=no
BOOTPROTO=static
DEFROUTE=yes

IPV4_FAILURE_FATAL=no
IPV6INIT=yes
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_FAILURE_FATAL=no
IPV6_ADDR_GEN_MODE=stable-privacy
NAME=ens33
UUID=3644a3cc-ef54-4886-b4c5-345b1452db43
DEVICE=ens33
ONBOOT=yes 

IPADDR=192.168.160.88
NERMASK=255.255.255.0
GATEWAY=192.168.160.2
DNS1=114.114.114.114
```

![f30f46c4f3416877dda3b31bd4df738.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9e0bd5d7a790456b80e9dae03a05ff55~tplv-k3u1fbpfcp-watermark.image)

ä¿®æ”¹å®Œæ¯•ä¹‹åé‡å¯ç½‘å…³æœåŠ¡ï¼Œé‡å¯ä¸ä¼šé©¬ä¸Šç”Ÿæ•ˆï¼Œéœ€è¦ç¨ç­‰ç‰‡åˆ»

```
restart network.service // CentOS 7  é‡å¯å‘½ä»¤
nmcli c reload // CentOS 8 é‡å¯å‘½ä»¤
```

å†æ¬¡è¾“å…¥ ip addrï¼Œå‡ºç°å¦‚ä¸‹å›¾æ ‡çº¢ï¼ŒæŸ¥çœ‹æ˜¯å¦é…ç½®æ­£ç¡®

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c5e1d041dbe34408a28de17d45b5fd4d~tplv-k3u1fbpfcp-watermark.image)

#### ä¿®æ”¹ä¸»æœºç½‘ç»œé…ç½®

æ‰“å¼€ Windows çš„ç½‘ç»œé“¾æ¥ï¼Œç›´æ¥å‚è€ƒä¸‹å›¾ä¿®æ”¹å³å¯

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/235f89c7e51a4563a4f7e8f882036ca0~tplv-k3u1fbpfcp-watermark.image)

ä¿®æ”¹å®Œæ¯•ä¹‹åï¼Œç›´æ¥ cmd ç»ˆç«¯ `ping 192.168.160.88`ï¼Œå‡ºç°ä¸‹å›¾åé¦ˆä»£è¡¨é™æ€ IP é…ç½®æˆåŠŸ

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/89853258fe3846448058c69ca3893968~tplv-k3u1fbpfcp-watermark.image)

#### é…ç½® Xshell

é€‰æ‹©æ–°å»ºä¼šè¯å±æ€§å†æ ¹æ®ä¸‹å›¾è¿›è¡Œé…ç½®

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ca1d8da9723a41feb9c0812c4aad00b7~tplv-k3u1fbpfcp-watermark.image)

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/aeeadb993b6d458bb9892f23bed7b419~tplv-k3u1fbpfcp-watermark.image)

é…ç½®å®Œæ¯•ä¹‹åï¼Œå¦‚å‡ºç°ä¸‹å›¾ï¼Œåˆ™ä»£è¡¨å·²ç»æˆåŠŸä½¿ç”¨ SSH è¿æ¥åˆ°è™šæ‹Ÿæœºã€‚

![90d5a869cbabd83dbcad23c75e28566.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b5f5f968536c48d6b599a9a3f4003aae~tplv-k3u1fbpfcp-watermark.image)

#### å¯èƒ½å‡ºç°é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ

1.  å­¦ä¹ ä½¿ç”¨çš„è¯çš„è¯ï¼Œå¯ä»¥ç›´æ¥æŠŠè™šæ‹Ÿæœºçš„é˜²ç«å¢™ç»™å…³äº†

- æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€ `systemctl status firewalld.service`
- å¼€å¯é˜²ç«å¢™ `systemctl start firewalld.service`
- å…³é—­é˜²ç«å¢™`systemctl stop firewalld.service`
- ç¦ç”¨é˜²ç«å¢™ `systemctl disable firewalld.service`

2.  å¦‚æœä½ ä½¿ç”¨çš„æ˜¯é dvd ç‰ˆæœ¬ï¼Œå¯èƒ½æ²¡æœ‰å®‰è£… sshd æœåŠ¡ï¼Œéœ€è¦æ‰‹åŠ¨å®‰è£…ä¸€ä¸‹ï¼Œæˆ–è€…é‡å¯ä¸€ä¸‹ã€‚
3.  æŸ¥çœ‹ 22 ç«¯å£æ˜¯å¦æ­£å¸¸å¼€æ”¾ï¼Œå«Œéº»çƒ¦å°±å…³é—­é˜²ç«å¢™
4.  é‡å¯å¤§æ³•è¯•è¯•çœ‹\(é‡å¯ vm æˆ–è€… CentOS\)
5.  å†ä¸è¡Œçš„è¯ï¼Œå¯ä»¥ä¸‹æ–¹ç•™è¨€ï¼Œå¤§å®¶ä¸€èµ·æ¥æ‰¾èŒ¬

### Gitlab

GitLab æ˜¯ä¸€ä¸ªç”¨äºä»“åº“ç®¡ç†ç³»ç»Ÿçš„å¼€æºé¡¹ç›®ï¼Œä½¿ç”¨ Git ä½œä¸ºä»£ç ç®¡ç†å·¥å…·ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šæ­å»ºèµ·æ¥çš„ web æœåŠ¡ã€‚æ‰€ä»¥å¤§éƒ¨åˆ†å…¬å¸éƒ½ä¼šé€‰æ‹©ä½¿ç”¨ Gitlab ä½œä¸ºç§æœ‰ä»“åº“ç®¡ç†ã€‚

#### å®‰è£…

æ•´ä½“å®‰è£…è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œç‚¹å‡»[å®˜ç½‘å®‰è£…æ‰‹å†Œ](https://about.gitlab.com/install/#centos-8)æŒ‰ç…§é¡ºåºä¸‹æ¥å³å¯ï¼Œä¸­é—´ç¨å¾®æ³¨æ„ä¸€ä¸‹å‡ ç‚¹ï¼š

1.  åˆ‡è®°è™šæ‹Ÿæœºé…ç½®ä¸€å®šè¦è°ƒé«˜ä¸€ç‚¹ï¼Œä¸ç„¶ä¼šå‡ºç°å„ç§å¥‡å¥‡æ€ªæ€ªçš„é”™è¯¯
2.  ä½¿ç”¨è¿™ä¸ªå‘½ä»¤çš„æ—¶å€™ï¼Œå°†`sudo EXTERNAL_URL="https://gitlab.example.com" dnf install -y gitlab-ee`ï¼Œ EXTERNAL\_URL æ›¿æ¢æˆ <http://192.168.160.88:8888/>
3.  å¦‚æœä½ ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯ dvd çš„è¯ï¼Œ8080 ä¼šè¢«å…¶ä»–è½¯ä»¶å ç”¨ï¼Œæ‰€ä»¥ä¸è¦ä½¿ç”¨ 8080 ç«¯å£

æ­£å¸¸è¿æ¥è™šæ‹Ÿæœºè¾“å…¥å®˜æ–¹å‘½ä»¤ä¼šå‡ºç°å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![acc6411280d657d8af8b89a748dcdba.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/047571a42e8742d1ad439317d69545bd~tplv-k3u1fbpfcp-watermark.image)

è™½ç„¶ä½ æœ‰å‚è€ƒä¸Šè¿°çš„é—®é¢˜ï¼Œä½†ä½ è®¿é—®çš„æ—¶å€™è¿˜æ˜¯å¤§æ¦‚ç‡å‡ºç°ä¸‹å›¾æ‰€ç¤ºçš„ 502 æƒ…å†µ

![cddcd6e44084441878c0d0d4c76f93c.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/66e8683414ff4ef6a72269a3a10ac9af~tplv-k3u1fbpfcp-watermark.image)

å¦‚æœä½ å‡ºç°äº† 502 çš„æƒ…å†µï¼Œåˆ«æ…Œï¼Œåªæ˜¯ä¸€äº›é…ç½®é¡¹å‡ºç°äº†é—®é¢˜

è¾“å…¥ `vim /etc/gitlab/gitlab.rb`ï¼Œä¿®æ”¹å¦‚ä¸‹å‡ é¡¹å†…å®¹

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/91625039b2ad4f108e73bbf1f7a367ef~tplv-k3u1fbpfcp-watermark.image)

```
external_url 'http://192.168.160.88:8888' // è¿™é‡Œåº”è¯¥åœ¨å®‰è£…çš„æ—¶å€™å°±å·²ç»ä¿®æ”¹è¿‡äº†
unicorn['port'] = 8888
postgresql['shared_buffers'] = "256MB"
postgresql['max_connections'] = 200
```

ä¸Šè¿°é…ç½®å¾ˆå¤šï¼Œåˆ†åˆ«åœ¨ä¸åŒçš„åœ°æ–¹ï¼Œè¯·å‚è€ƒ vim çš„ä½¿ç”¨æ–‡æ¡£ï¼Œç”¨æœç´¢æ¥æŸ¥æ‰¾ï¼Œæ•ˆç‡æ›´é«˜

æ›´æ–°é…ç½®ï¼š`gitlab-ctl reconfigure`

é‡å¯ï¼š`gitlab-ctl restart`

**é‡å¯ä¸ä¼šé©¬ä¸Šç”Ÿæ•ˆï¼Œéœ€è¦ç­‰å¾… 1 åˆ†é’Ÿå·¦å³**ï¼Œæ‰€ä»¥ä¸è¦å¤ªå¿ƒæ€¥ï¼Œæ„Ÿè§‰æ²¡ç”Ÿæ•ˆå°±ç»§ç»­æ”¹ï¼Œä¸æ–­çš„é‡å¯ã€‚

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/52cbec9cfb654bbdbfe303fb2f498b7a~tplv-k3u1fbpfcp-watermark.image)

å…¶ä»–çš„å¯¹ GitLab è¿›è¡Œè‡ªå·±å›¢é˜Ÿçš„ä¸ªæ€§åŒ–å®šåˆ¶ï¼Œè¿™é‡Œå°±ä¸è¿‡å¤šé˜è¿°äº†ï¼Œæœ‰å…´è¶£çš„è¯ï¼Œå¯ä»¥è‡ªå·±è¯•è¯•çœ‹ï¼Œæ€ä¹ˆå»é…ç½®ã€‚

## å‚è€ƒæ–‡æ¡£

[Xshellè¿æ¥VMware CentOS7](https://blog.csdn.net/weixin_43593086/article/details/90247751)

[GitLab 502](https://www.cnblogs.com/stronger-xsw/p/12804002.html)

## æœ¬ç« å°ç»“

è·Ÿç€ä¸Šè¿°æ‰€æœ‰çš„æ­¥éª¤è¿›è¡Œæ“ä½œçš„è¯ï¼Œåº”è¯¥åœ¨åŠå¤©åˆ°ä¸€å¤©çš„æ—¶é—´æ˜¯å¯ä»¥å®Œæˆï¼ˆç†Ÿç»ƒè€…å¯èƒ½æ›´å¿«ï¼‰ã€‚å®ŒæˆåŸºæœ¬çš„ç¯å¢ƒé…ç½®ä¹‹åï¼Œä¸‹ä¸€ç¯‡ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¼€å‘ç¯å¢ƒçš„æ­å»ºã€‚

å¦‚æœä½ æœ‰ä»€ä¹ˆç–‘é—®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºæå‡ºï¼Œæˆ–è€…åŠ ç¾¤æ²Ÿé€šã€‚ ğŸ‘
    